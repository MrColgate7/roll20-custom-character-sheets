<div class="charsheet feuille-personnage">

  <div class="sheet-top-title">
    <h1>Fiche de personnage</h1>
  </div>

  <!-- Radios des onglets (cachés, mais utilisés par le CSS) -->
  <input type="radio" name="attr_tab" id="tab-principal" class="sheet-tab-toggle" value="principal" checked>
  <input type="radio" name="attr_tab" id="tab-identite"  class="sheet-tab-toggle" value="identite">
  <input type="radio" name="attr_tab" id="tab-inventaire" class="sheet-tab-toggle" value="inventaire">
  <input type="radio" name="attr_tab" id="tab-competences" class="sheet-tab-toggle" value="competences">
  <input type="radio" name="attr_tab" id="tab-objet" class="sheet-tab-toggle" value="objet">

  <!-- Barre des onglets -->
  <div class="sheet-tabs">
    <label for="tab-principal"  class="sheet-tab-label">Principal</label>
    <label for="tab-identite"   class="sheet-tab-label">Identité</label>
    <label for="tab-inventaire" class="sheet-tab-label">Inventaire</label>
    <label for="tab-competences" class="sheet-tab-label">Compétences</label>
    <label for="tab-objet"      class="sheet-tab-label">Objet</label>
  </div>

  <!-- ================== ONGLET PRINCIPAL ================== -->
  <div class="sheet-tab-content" data-tab="principal">

    <!-- Header : nom / surnom / prénom (lecture seule) -->
    <div class="bloc bloc-header">
      <div class="header-field">
        <span class="header-label">Nom</span>
        <input type="text" name="attr_nom" readonly>
      </div>
      <div class="header-field">
        <span class="header-label">Surnom / Nom de code</span>
        <input type="text" name="attr_surnom" readonly>
      </div>
      <div class="header-field">
        <span class="header-label">Prénom</span>
        <input type="text" name="attr_prenom" readonly>
      </div>
    </div>

    <!-- Zone d’action : deux colonnes -->
    <div class="two-columns">

      <!-- Colonne gauche : Stats finales + compétences -->
      <div class="col col-left">

        <!-- Statistiques finales -->
        <div class="bloc">
          <h2>Statistiques finales</h2>
          <div class="stats-finales-grid">
            <div>Force</div>
            <div><input type="number" value="@{force_base}+@{force_equip}+@{force_bonus}" disabled></div>

            <div>Agilité</div>
            <div><input type="number" value="@{agilite_base}+@{agilite_equip}+@{agilite_bonus}" disabled></div>

            <div>Technique</div>
            <div><input type="number" value="@{technique_base}+@{technique_equip}+@{technique_bonus}" disabled></div>

            <div>Endurance</div>
            <div><input type="number" value="@{endurance_base}+@{endurance_equip}+@{endurance_bonus}" disabled></div>

            <div>Intuition</div>
            <div><input type="number" value="@{intuition_base}+@{intuition_equip}+@{intuition_bonus}" disabled></div>

            <div>Déduction</div>
            <div><input type="number" value="@{deduction_base}+@{deduction_equip}+@{deduction_bonus}" disabled></div>

            <div>Éloquence</div>
            <div><input type="number" value="@{eloquence_base}+@{eloquence_equip}+@{eloquence_bonus}" disabled></div>
          </div>
        </div>

        <!-- Compétences actives -->
        <div class="bloc">
          <h2>Compétences actives</h2>
          <fieldset class="repeat-simple">
            <span class="small-label">Nom</span>
            <span class="small-label">Effet</span>
            <span class="small-label">Notes</span>
            <input type="text" name="attr_act1_nom">
            <input type="text" name="attr_act1_effet">
            <input type="text" name="attr_act1_notes">
            <input type="text" name="attr_act2_nom">
            <input type="text" name="attr_act2_effet">
            <input type="text" name="attr_act2_notes">
            <input type="text" name="attr_act3_nom">
            <input type="text" name="attr_act3_effet">
            <input type="text" name="attr_act3_notes">
          </fieldset>
        </div>

        <!-- Compétences passives -->
        <div class="bloc">
          <h2>Compétences passives</h2>
          <fieldset class="repeat-simple">
            <span class="small-label">Nom</span>
            <span class="small-label">Effet</span>
            <span class="small-label">Notes</span>
            <input type="text" name="attr_pas1_nom">
            <input type="text" name="attr_pas1_effet">
            <input type="text" name="attr_pas1_notes">
            <input type="text" name="attr_pas2_nom">
            <input type="text" name="attr_pas2_effet">
            <input type="text" name="attr_pas2_notes">
            <input type="text" name="attr_pas3_nom">
            <input type="text" name="attr_pas3_effet">
            <input type="text" name="attr_pas3_notes">
          </fieldset>
        </div>

      </div>

      <!-- Colonne droite : Corps + inventaire rapide -->
      <div class="col col-right">

        <!-- Corps / blessures -->
        <div class="bloc">
          <h2>Corps / Blessures</h2>
          <div class="blessures-grid">
            <label>Tête
              <input type="text" name="attr_blessure_tete">
            </label>
            <label>Torse
              <input type="text" name="attr_blessure_torse">
            </label>
            <label>Bras droit
              <input type="text" name="attr_blessure_bras_droit">
            </label>
            <label>Bras gauche
              <input type="text" name="attr_blessure_bras_gauche">
            </label>
            <label>Jambe droite
              <input type="text" name="attr_blessure_jambe_droite">
            </label>
            <label>Jambe gauche
              <input type="text" name="attr_blessure_jambe_gauche">
            </label>
          </div>
        </div>

        <!-- Inventaire rapide -->
        <div class="bloc">
          <h2>Inventaire rapide</h2>
          <div class="inv-rapide-grid">
            <span class="small-label">Objet</span>
            <span class="small-label">Effet / usage</span>
            <input type="text" name="attr_rapide1_nom">
            <input type="text" name="attr_rapide1_effet">
            <input type="text" name="attr_rapide2_nom">
            <input type="text" name="attr_rapide2_effet">
            <input type="text" name="attr_rapide3_nom">
            <input type="text" name="attr_rapide3_effet">
            <input type="text" name="attr_rapide4_nom">
            <input type="text" name="attr_rapide4_effet">
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- ================== ONGLET IDENTITÉ ================== -->
  <div class="sheet-tab-content" data-tab="identite">
    <div class="bloc">
      <h2>Identité</h2>
      <div class="identite-grid">
        <label>Nom
          <input type="text" name="attr_nom">
        </label>
        <label>Prénom
          <input type="text" name="attr_prenom">
        </label>
        <label>Surnom / Nom de code
          <input type="text" name="attr_surnom">
        </label>
        <label>Âge
          <input type="number" name="attr_age">
        </label>
        <label>Taille
          <input type="text" name="attr_taille">
        </label>
      </div>
      <label>Origine &amp; histoire</label>
      <textarea name="attr_origine_histoire"></textarea>
    </div>
  </div>

  <!-- ================== ONGLET INVENTAIRE ================== -->
  <div class="sheet-tab-content" data-tab="inventaire">
    <div class="bloc">
      <h2>Inventaire</h2>
      <div class="inventaire-top">
        <label>Nombre total d’emplacements
          <input type="number" name="attr_emplacements_total" value="0">
        </label>
        <p class="small-text">
          1 emplacement = 1 objet de taille 1 · Objet de taille X = X emplacements.
        </p>
      </div>

      <table class="table-inventaire">
        <thead>
          <tr>
            <th>Nom de l’objet</th>
            <th>Taille</th>
            <th>Équipé ?</th>
            <th>Description / notes</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="attr_inv1_nom"></td>
            <td><input type="number" name="attr_inv1_taille"></td>
            <td class="center"><input type="checkbox" name="attr_inv1_equipe" value="1"></td>
            <td><input type="text" name="attr_inv1_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_inv2_nom"></td>
            <td><input type="number" name="attr_inv2_taille"></td>
            <td class="center"><input type="checkbox" name="attr_inv2_equipe" value="1"></td>
            <td><input type="text" name="attr_inv2_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_inv3_nom"></td>
            <td><input type="number" name="attr_inv3_taille"></td>
            <td class="center"><input type="checkbox" name="attr_inv3_equipe" value="1"></td>
            <td><input type="text" name="attr_inv3_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_inv4_nom"></td>
            <td><input type="number" name="attr_inv4_taille"></td>
            <td class="center"><input type="checkbox" name="attr_inv4_equipe" value="1"></td>
            <td><input type="text" name="attr_inv4_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_inv5_nom"></td>
            <td><input type="number" name="attr_inv5_taille"></td>
            <td class="center"><input type="checkbox" name="attr_inv5_equipe" value="1"></td>
            <td><input type="text" name="attr_inv5_notes"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ================== ONGLET COMPÉTENCES ================== -->
  <div class="sheet-tab-content" data-tab="competences">
    <div class="bloc">
      <h2>Statistiques (détail)</h2>
      <table class="table-stats">
        <thead>
          <tr>
            <th>Stat</th>
            <th>Base</th>
            <th>Équipement</th>
            <th>Bonus</th>
            <th>Total</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Force</td>
            <td><input type="number" name="attr_force_base" value="0"></td>
            <td><input type="number" name="attr_force_equip" value="0"></td>
            <td><input type="number" name="attr_force_bonus" value="0"></td>
            <td><input type="number" value="@{force_base}+@{force_equip}+@{force_bonus}" disabled></td>
            <td><input type="text" name="attr_force_notes"></td>
          </tr>
          <tr>
            <td>Agilité</td>
            <td><input type="number" name="attr_agilite_base" value="0"></td>
            <td><input type="number" name="attr_agilite_equip" value="0"></td>
            <td><input type="number" name="attr_agilite_bonus" value="0"></td>
            <td><input type="number" value="@{agilite_base}+@{agilite_equip}+@{agilite_bonus}" disabled></td>
            <td><input type="text" name="attr_agilite_notes"></td>
          </tr>
          <tr>
            <td>Technique</td>
            <td><input type="number" name="attr_technique_base" value="0"></td>
            <td><input type="number" name="attr_technique_equip" value="0"></td>
            <td><input type="number" name="attr_technique_bonus" value="0"></td>
            <td><input type="number" value="@{technique_base}+@{technique_equip}+@{technique_bonus}" disabled></td>
            <td><input type="text" name="attr_technique_notes"></td>
          </tr>
          <tr>
            <td>Endurance</td>
            <td><input type="number" name="attr_endurance_base" value="0"></td>
            <td><input type="number" name="attr_endurance_equip" value="0"></td>
            <td><input type="number" name="attr_endurance_bonus" value="0"></td>
            <td><input type="number" value="@{endurance_base}+@{endurance_equip}+@{endurance_bonus}" disabled></td>
            <td><input type="text" name="attr_endurance_notes"></td>
          </tr>
          <tr>
            <td>Intuition</td>
            <td><input type="number" name="attr_intuition_base" value="0"></td>
            <td><input type="number" name="attr_intuition_equip" value="0"></td>
            <td><input type="number" name="attr_intuition_bonus" value="0"></td>
            <td><input type="number" value="@{intuition_base}+@{intuition_equip}+@{intuition_bonus}" disabled></td>
            <td><input type="text" name="attr_intuition_notes"></td>
          </tr>
          <tr>
            <td>Déduction</td>
            <td><input type="number" name="attr_deduction_base" value="0"></td>
            <td><input type="number" name="attr_deduction_equip" value="0"></td>
            <td><input type="number" name="attr_deduction_bonus" value="0"></td>
            <td><input type="number" value="@{deduction_base}+@{deduction_equip}+@{deduction_bonus}" disabled></td>
            <td><input type="text" name="attr_deduction_notes"></td>
          </tr>
          <tr>
            <td>Éloquence</td>
            <td><input type="number" name="attr_eloquence_base" value="0"></td>
            <td><input type="number" name="attr_eloquence_equip" value="0"></td>
            <td><input type="number" name="attr_eloquence_bonus" value="0"></td>
            <td><input type="number" value="@{eloquence_base}+@{eloquence_equip}+@{eloquence_bonus}" disabled></td>
            <td><input type="text" name="attr_eloquence_notes"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="bloc">
      <h2>Compétences actives</h2>
      <table class="table-competences">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Effet</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="attr_comp_act1_nom"></td>
            <td><input type="text" name="attr_comp_act1_effet"></td>
            <td><input type="text" name="attr_comp_act1_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_comp_act2_nom"></td>
            <td><input type="text" name="attr_comp_act2_effet"></td>
            <td><input type="text" name="attr_comp_act2_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_comp_act3_nom"></td>
            <td><input type="text" name="attr_comp_act3_effet"></td>
            <td><input type="text" name="attr_comp_act3_notes"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="bloc">
      <h2>Compétences passives</h2>
      <table class="table-competences">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Effet</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="attr_comp_pas1_nom"></td>
            <td><input type="text" name="attr_comp_pas1_effet"></td>
            <td><input type="text" name="attr_comp_pas1_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_comp_pas2_nom"></td>
            <td><input type="text" name="attr_comp_pas2_effet"></td>
            <td><input type="text" name="attr_comp_pas2_notes"></td>
          </tr>
          <tr>
            <td><input type="text" name="attr_comp_pas3_nom"></td>
            <td><input type="text" name="attr_comp_pas3_effet"></td>
            <td><input type="text" name="attr_comp_pas3_notes"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="bloc">
      <h2>Compétences verrouillées / futures</h2>
      <textarea name="attr_comp_verrouillees"></textarea>
    </div>
  </div>

  <!-- ================== ONGLET OBJET ================== -->
  <div class="sheet-tab-content" data-tab="objet">
    <div class="bloc">
      <h2>Objet (modèle)</h2>

      <div class="objet-grid">
        <label>Nom de l’objet
          <input type="text" name="attr_objet_nom">
        </label>
        <label>Type
          <input type="text" name="attr_objet_type">
        </label>
      </div>

      <label>Description</label>
      <textarea name="attr_objet_description"></textarea>

      <h3>Taille &amp; inventaire</h3>
      <div class="objet-grid">
        <label>Taille (en emplacements)
          <input type="number" name="attr_objet_taille" value="1">
        </label>
        <label>Peut s’imbriquer dans un autre objet ?
          <input type="text" name="attr_objet_imbriquable" placeholder="Oui / Non + détails">
        </label>
        <label>Peut accueillir d’autres objets ?
          <input type="text" name="attr_objet_accueil" placeholder="Oui / Non + capacité">
        </label>
      </div>

      <h3>Utilité / fonction</h3>
      <textarea name="attr_objet_utilite"></textarea>

      <h3>Dégâts (si applicable)</h3>
      <div class="table-damage">
        <div>
          <strong>Contact</strong>
          <label>Valeur
            <input type="number" name="attr_objet_degats_contact">
          </label>
          <label>Type
            <input type="text" name="attr_objet_type_contact" placeholder="contondant, tranchant...">
          </label>
        </div>
        <div>
          <strong>Lancé</strong>
          <label>Valeur
            <input type="number" name="attr_objet_degats_lance">
          </label>
          <label>Type
            <input type="text" name="attr_objet_type_lance">
          </label>
        </div>
        <div>
          <strong>Spéciaux</strong>
          <label>Effets
            <input type="text" name="attr_objet_degats_speciaux" placeholder="saignement, étourdissement...">
          </label>
        </div>
      </div>

      <h3>Compatibilités / synergies</h3>
      <textarea name="attr_objet_compatibilites" placeholder="Objets dans lesquels il s’insère, objets qui s’ajoutent dessus, bonus de combinaison..."></textarea>

      <h3>Durabilité (optionnel)</h3>
      <div class="objet-grid">
        <label>Durabilité max
          <input type="number" name="attr_objet_durabilite_max">
        </label>
        <label>Durabilité actuelle
          <input type="number" name="attr_objet_durabilite_actuelle">
        </label>
      </div>
    </div>
  </div>

</div>
